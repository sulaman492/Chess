<Window x:Class="Chess.UI.Window1"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chess"
        Width="850"
        Height="600"
        WindowStartupLocation="CenterScreen"
        Background="#F2F2F2">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="600"/>
            <ColumnDefinition Width="250"/>
        </Grid.ColumnDefinitions>

        <!-- ================= CHESSBOARD ================= -->
        <Viewbox Grid.Column="0">
            <Grid x:Name="BoardGrid"
                  Width="600"
                  Height="600"
                  MouseDown="BoardGrid_MouseDown">

                <Grid.Background>
                    <ImageBrush ImageSource="Assets/Board.png"
                                Stretch="Fill"/>
                </Grid.Background>

                <!-- Highlighted Squares -->
                <UniformGrid x:Name="HighlightedGrid"
                             Rows="8"
                             Columns="8"/>

                <!-- Pieces -->
                <UniformGrid x:Name="PieceGrid"
                             Rows="8"
                             Columns="8"
                             RenderOptions.BitmapScalingMode="HighQuality"/>
            </Grid>
        </Viewbox>

        <!-- ================= RIGHT PANEL ================= -->
        <Grid Grid.Column="1" Margin="8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Timers + Dead pieces -->
                <RowDefinition Height="*"/>
                <!-- Undo / Redo / Replay buttons -->
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ===== TIMERS (Side by Side) ===== -->
            <Grid Grid.Row="0" Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- WHITE TIMER -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <TextBlock Text="White's Time" FontWeight="Bold" FontSize="14" Foreground="#333" HorizontalAlignment="Center"/>
                    <TextBlock x:Name="WhiteTimerText" Text="01:00" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,2,0,10"/>
                </StackPanel>

                <!-- BLACK TIMER -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                    <TextBlock Text="Black's Time" FontWeight="Bold" FontSize="14" Foreground="#333" HorizontalAlignment="Center"/>
                    <TextBlock x:Name="BlackTimerText" Text="01:00" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,2,0,10"/>
                </StackPanel>
            </Grid>

            <!-- ===== DEAD PIECES (Stacked Vertically, stretched, no rounded border) ===== -->
            <StackPanel Grid.Row="1" Orientation="Vertical" HorizontalAlignment="Stretch" Margin="0,0,0,0">

                <!-- WHITE DEAD PIECES -->
                <Border Background="#E0E0E0" CornerRadius="0" Margin="0,0,0,30" Padding="10">
                    <StackPanel HorizontalAlignment="Stretch">
                        <TextBlock Text="White's Dead Pieces" FontSize="16" FontWeight="Bold" Foreground="#333" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                        <WrapPanel x:Name="WhiteCapturedPanel" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>

                <!-- BLACK DEAD PIECES -->
                <Border Background="#E0E0E0" CornerRadius="0" Margin="0,0,0,0" Padding="10">
                    <StackPanel HorizontalAlignment="Stretch">
                        <TextBlock Text="Black's Dead Pieces" FontSize="16" FontWeight="Bold" Foreground="#333" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                        <WrapPanel x:Name="BlackCapturedPanel" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>

            </StackPanel>

            <!-- ===== UNDO / REDO / NEXT / PREV BUTTONS ===== -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <Button x:Name="UndoButton" Width="48" Height="48" Margin="6" Background="White" BorderBrush="#333" BorderThickness="2" Click="UndoButton_Click">
                    <Image Source="/UI/Assets/undo.png" Stretch="Uniform"/>
                </Button>

                <Button x:Name="RedoButton" Width="48" Height="48" Margin="6" Background="White" BorderBrush="#333" BorderThickness="2" Click="RedoButton_Click">
                    <Image Source="/UI/Assets/redo.png" Stretch="Uniform"/>
                </Button>

                <Button x:Name="Prev" Width="48" Height="48" Margin="6" Background="White" BorderBrush="#333" BorderThickness="2" Click="Prev_Click" Visibility="Collapsed">
                    <Image Source="/UI/Assets/prev.png" Stretch="Uniform"/>
                </Button>

                <Button x:Name="Next" Width="48" Height="48" Margin="6" Background="White" BorderBrush="#333" BorderThickness="2" Click="Next_Click" Visibility="Collapsed">
                    <Image Source="/UI/Assets/next.png" Stretch="Uniform"/>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
